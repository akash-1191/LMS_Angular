<div class="max-w-xl mx-auto mt-10 bg-white shadow p-6 rounded-lg">
  <h2 class="text-2xl font-semibold text-gray-800 text-center mb-6">ğŸ“ Create Quiz</h2>

  <form [formGroup]="quizForm" (ngSubmit)="onSubmit()" class="space-y-5">

    <!-- Unit Dropdown -->
    <div>
      <label class="block text-gray-700 font-medium mb-1">Select Course</label>
      <select formControlName="unitId"
        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
        [ngClass]="{'border-red-500': quizForm.get('unitId')?.invalid && quizForm.get('unitId')?.touched}">
        <option value="" disabled>Select a Course</option>
        <option *ngFor="let unit of availableUnits" [value]="unit.unitId">
          {{ unit.title }}
        </option>
      </select>
      <div *ngIf="quizForm.get('unitId')?.invalid && quizForm.get('unitId')?.touched" class="text-sm text-red-600 mt-1">
        Please select a unit.
      </div>
    </div>

    <!-- Quiz Title -->
    <div>
      <label class="block text-gray-700 font-medium mb-1">Quiz Title</label>
      <input type="text" formControlName="title" placeholder="Enter quiz title"
        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
        [ngClass]="{'border-red-500': quizForm.get('title')?.invalid && quizForm.get('title')?.touched}" />
      <div *ngIf="quizForm.get('title')?.invalid && quizForm.get('title')?.touched" class="text-sm text-red-600 mt-1">
        Title is required.
      </div>
    </div>

    <!-- Duration -->
    <div>
      <label class="block text-gray-700 font-medium mb-1">Duration (in minutes)</label>
      <input type="number" formControlName="duration" placeholder="Enter duration"
        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
        [ngClass]="{'border-red-500': quizForm.get('duration')?.invalid && quizForm.get('duration')?.touched}" />
      <div *ngIf="quizForm.get('duration')?.invalid && quizForm.get('duration')?.touched" class="text-sm text-red-600 mt-1">
        Duration must be at least 1 minute.
      </div>
    </div>

    <!-- Submit Button -->
    <button type="submit"
      class="w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition disabled:opacity-50">
      Create Quiz
    </button>

    <!-- Success Message -->
    <div *ngIf="successMessage"
      class="bg-green-100 border border-green-400 text-green-800 px-4 py-2 rounded mt-4">
      {{ successMessage }}
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage"
      class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mt-4">
      {{ errorMessage }}
    </div>
  </form>

  <!-- Add Questions Button -->
  <button
    class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition disabled:opacity-50 mt-6"
    [disabled]="isAddQuestionsDisabled"
    (click)="onAddQuestionsClick()"
  >
    Add Questions
  </button>
</div>
