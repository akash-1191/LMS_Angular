<div class="p-4">
  <h2 class="text-2xl font-semibold text-gray-800 mb-4">Manage Learners</h2>

  <!-- Toggle Buttons -->
  <div class="flex gap-4 mb-4">
    <button (click)="showAll = true"
            [class.bg-blue-600]="showAll"
            class="px-4 py-2 rounded bg-gray-500 cursor-pointer text-white  hover:bg-blue-700">
      All Learners
    </button>
    <button (click)="showAll = false"
            [class.bg-red-600]="!showAll"
            class="px-4 py-2 rounded bg-gray-500 cursor-pointer text-white  hover:bg-red-700">
      Deactivated Learners
    </button>
  </div>

  <!-- Active Learners -->
  <div *ngIf="showAll" class="overflow-x-auto">
    <table class="min-w-full border border-gray-300 text-sm text-left">
      <thead class="bg-blue-200 text-black uppercase">
        <tr>
          <th class="border px-4 py-2">User ID</th>
          <th class="border px-4 py-2">Full Name</th>
          <th class="border px-4 py-2">Email</th>
          <th class="border px-4 py-2">Phone</th>
          <th class="border px-4 py-2">Age</th>
          <th class="border px-4 py-2">Gender</th>
          <th class="border px-4 py-2">Created At</th>
          <th class="border px-4 py-2">Status</th>
          <th class="border px-4 py-2">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let learner of activeLearners"> 
          <td class="border px-4 py-2">{{ learner.userId }}</td>
          <td class="border px-4 py-2">{{ learner.fullName }}</td>
          <td class="border px-4 py-2">{{ learner.email }}</td>
          <td class="border px-4 py-2">{{ learner.phoneNumber }}</td>
          <td class="border px-4 py-2">{{ learner.age }}</td>
          <td class="border px-4 py-2">{{ learner.gender }}</td>
          <td class="border px-4 py-2">{{ learner.createdDate | date:'yyyy-MM-dd' }}</td>
          <td class="border px-4 py-2">
            <span class="text-green-600 font-semibold">Active</span>
          </td>
          <td class="border px-4 py-2">
            <button (click)="deactivateUser(learner.userId)"
                    class="bg-red-600 cursor-pointer text-white px-3 py-1 rounded hover:bg-red-700 transition">
              Deactivate
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Deactivated Learners -->
  <div *ngIf="!showAll" class="overflow-x-auto">
    <table class="min-w-full border border-gray-300 text-sm text-left">
      <thead class="bg-red-200 text-black uppercase">
        <tr>
          <th class="border px-4 py-2">User ID</th>
          <th class="border px-4 py-2">Full Name</th>
          <th class="border px-4 py-2">Email</th>
          <th class="border px-4 py-2">Phone</th>
          <th class="border px-4 py-2">Created At</th>
          <th class="border px-4 py-2">Status</th>
          <th class="border px-4 py-2">Action</th>
        </tr>
      </thead>
      
      <tbody>
       <tr *ngFor="let learner of deactivatedLearners">
          <td class="border px-4 py-2">{{ learner.userId }}</td>
          <td class="border px-4 py-2">{{ learner.fullName }}</td>
          <td class="border px-4 py-2">{{ learner.email }}</td>
          <td class="border px-4 py-2">{{ learner.phoneNumber }}</td>
           <td class="border px-4 py-2">{{ learner.createdDate | date:'yyyy-MM-dd' }}</td>
          <td class="border px-4 py-2">
            <span class="text-red-600 font-semibold">Deactivated</span>
          </td>
          <td class="border px-4 py-2">
            <button (click)="activateUser(learner.userId)"
                    class="bg-green-600 cursor-pointer text-white px-3 py-1 rounded hover:bg-green-700 transition">
              Activate
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
